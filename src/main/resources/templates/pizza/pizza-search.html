<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Pizza search</title>
<!-- Bootstrap CSS -->
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
</head>

<body class="container">
	
	<header th:replace="frag :: header"></header>
	
	<main>
		<h3>Pizza search</h3>
		
		
		
		<form class="mb-4">
		
		    <label class="form-label">Name</label>
		    <input type="text" class="form-control mb-2" name="q" th:value="${query}">
		  
		  	<input type="submit" class="btn btn-primary" value="Search">
		  
		</form>
		
		<table class="table" th:if="${pizze.size()} > 0">
		  <thead>
		    <tr>
		      <th scope="col">ID</th>
		      <th scope="col">Name</th>
		      <th scope="col">Description</th>
		      <th scope="col">Price</th>
		      <th scope="col"></th>
		      <th scope="col"></th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr 
		    	th:each="pizza : ${pizze}"
		  		th:object="${pizza}"
		  	>
		      <th scope="row">[[*{id}]]</th>
		      <td>
		      	<a
		      		th:href="@{/pizza/{id} (id=*{id})}"
		      	>
					[[*{name}]]
		      	</a>
		      </td>
		      <td>[[*{description}]]</td>
		      <td>[[*{price}]]</td>
		      <td><a th:href="@{/pizza/update/{id} (id=${pizza.id})}" class="btn btn-warning">Update</a></td>
		      <td><a th:href="@{/pizza/delete/{id} (id=${pizza.id})}" class="btn btn-danger">Delete</a></td>  
		    </tr>
		  </tbody>
		</table>
		
		
	</main>
</body>
</html>