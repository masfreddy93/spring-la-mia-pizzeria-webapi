<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Ingredients</title>
<!-- Bootstrap CSS -->
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
</head>

<body class="container">
	
	<header th:replace="frag :: header"></header>
	
	<main>
		<h3><a class="btn btn-warning mb-3" href="/ingredients/create">Create ingrediente</a></h3>
		
		<div th:replace="frag :: errors"></div>
		
		<table class="table" th:if="${ingredients.size()} > 0">
		  <thead>
		    <tr>
		      <th scope="col">ID</th>
		      <th scope="col">Name</th>
		      <th scope="col">Pizze</th>
		      <th scope="col"></th>
		      <th scope="col"></th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr 
		    	th:each="ingrediente : ${ingredients}"
		  		th:object="${ingrediente}"
		  	>
		  	
		      <th scope="row">[[*{id}]]</th>
		      <td>

					[[*{name}]]
		      </td>
		      <td> 
		      	<div 
		      		th:each="pizza : *{pizzas}"
		      		th:object="${pizza}"
		      	>
		      		[[*{name}]]
		      	</div>
		      </td> 
		      <td><a th:href="@{/ingredients/update/{id} (id=*{id})}" class="btn btn-warning">Update</a></td>
		      <td><a th:href="@{/ingredients/delete/{id} (id=*{id})}" class="btn btn-danger">Delete</a></td>    

		    </tr>
		  </tbody>
		</table>
		
		<p th:unless="${ingredients.size() > 0}">The list of ingredients is empty at the moment. We are sorry about that!</p>
	</main>
	

</body>
</html>